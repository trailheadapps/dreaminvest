{"version":3,"sources":["../../../../.tmp-es/components/data-table/__tests__/data-table.browser-test.jsx"],"names":["React","ReactDOM","TestUtils","chai","DataTable","DataTableColumn","DataTableRowActions","DataTableHighlightCell","IconSettings","should","Simulate","scryRenderedComponentsWithType","findRenderedDOMComponentWithClass","describe","items","id","name","count","lastModified","columns","label","property","truncate","sortable","defaultProps","selectRows","renderTable","instance","dom","document","createElement","body","appendChild","component","render","removeTable","unmountComponentAtNode","removeChild","getTable","querySelector","getRow","row","tbody","querySelectorAll","getCell","column","tr","getMenu","beforeEach","map","columnProps","afterEach","it","thead","have","length","firstName","innerHTML","equal","secondCount","checkboxes","call","defaultSelection","selectedRows","checkedBoxes","done","onChange","newSelection","selectedRow","checkbox","change","target","checked","secondRow","checkAll","onSort","data","sortDirection","thirdColumn","sortButton","click","secondColumn","setTimeout","value","rowActionMenus","onAction","item","action","rowActionMenu","trigger","menu","firstAction","markedText"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport TestUtils from 'react-addons-test-utils';\n\nimport chai from 'chai';\n\nimport DataTable from '../../data-table';\nimport DataTableColumn from '../../data-table/column';\nimport DataTableRowActions from '../../data-table/row-actions';\nimport DataTableHighlightCell from '../../data-table/highlight-cell';\nimport IconSettings from '../../icon-settings';\n\nchai.should();\n\nconst {\n\tSimulate,\n\tscryRenderedComponentsWithType,\n\tfindRenderedDOMComponentWithClass,\n} = TestUtils;\n\ndescribe('DataTable: ', function () {\n\tconst items = [\n\t\t{\n\t\t\tid: '8IKZHZZV80',\n\t\t\tname: 'Cloudhub',\n\t\t\tcount: 100976,\n\t\t\tlastModified: 'Yesterday',\n\t\t},\n\t\t{\n\t\t\tid: '5GJOOOPWU7',\n\t\t\tname: 'Cloudhub + Anypoint Connectors',\n\t\t\tcount: 54976,\n\t\t\tlastModified: 'Today',\n\t\t},\n\t\t{\n\t\t\tid: 'Q8Z71ZUCEZ',\n\t\t\tname: 'Cloud City',\n\t\t\tcount: 101280,\n\t\t\tlastModified: 'Today',\n\t\t},\n\t\t{\n\t\t\tid: '2FSH2DP0LY',\n\t\t\tname: 'IoT',\n\t\t\tcount: 976,\n\t\t\tlastModified: 'Yesterday',\n\t\t},\n\t\t{\n\t\t\tid: '8NE888QKV1',\n\t\t\tname: 'IoT + Anypoint Connectors',\n\t\t\tcount: 54976,\n\t\t\tlastModified: 'Today',\n\t\t},\n\t\t{\n\t\t\tid: 'M4D37GW83H',\n\t\t\tname: 'Salesforce Tower',\n\t\t\tcount: 101280,\n\t\t\tlastModified: 'Today',\n\t\t},\n\t];\n\n\tconst columns = [\n\t\t{\n\t\t\tlabel: 'Name',\n\t\t\tproperty: 'name',\n\t\t\ttruncate: true,\n\t\t},\n\t\t{\n\t\t\tlabel: 'Count',\n\t\t\tproperty: 'count',\n\t\t\tsortable: true,\n\t\t},\n\t];\n\n\tconst defaultProps = {\n\t\tid: 'DataTableExample-default',\n\t\titems,\n\t\tselectRows: true,\n\t};\n\n\tconst renderTable = (instance) =>\n\t\tfunction () {\n\t\t\tthis.dom = document.createElement('div');\n\t\t\tdocument.body.appendChild(this.dom);\n\t\t\tthis.component = ReactDOM.render(\n\t\t\t\t<IconSettings iconPath=\"/assets/icons\">{instance}</IconSettings>,\n\t\t\t\tthis.dom\n\t\t\t);\n\t\t};\n\n\tfunction removeTable () {\n\t\tReactDOM.unmountComponentAtNode(this.dom);\n\t\tdocument.body.removeChild(this.dom);\n\t}\n\n\tconst getTable = (dom) => dom.querySelector('.slds-table');\n\n\tconst getRow = (dom, row) => {\n\t\tconst tbody = getTable(dom).querySelectorAll('tbody')[0];\n\t\treturn tbody.querySelectorAll('tr')[row - 1];\n\t};\n\n\tconst getCell = (dom, row, column) => {\n\t\tconst tr = getRow(dom, row);\n\t\treturn tr.querySelectorAll('td')[column];\n\t};\n\n\tconst getMenu = (dom) => dom.querySelector('.slds-dropdown');\n\n\tdescribe('Structure', function () {\n\t\tbeforeEach(\n\t\t\trenderTable(\n\t\t\t\t<DataTable {...defaultProps}>\n\t\t\t\t\t{columns.map((columnProps) => (\n\t\t\t\t\t\t<DataTableColumn {...columnProps} key={columnProps.property} />\n\t\t\t\t\t))}\n\t\t\t\t</DataTable>\n\t\t\t)\n\t\t);\n\n\t\tafterEach(removeTable);\n\n\t\tit('has a header', function () {\n\t\t\tconst thead = getTable(this.dom).querySelectorAll('thead');\n\t\t\tthead.should.have.length(1);\n\t\t\tthead[0].querySelectorAll('th').should.have.length(3);\n\t\t});\n\n\t\tit('has a row for each item', function () {\n\t\t\tconst tbody = getTable(this.dom).querySelectorAll('tbody');\n\t\t\ttbody.should.have.length(1);\n\t\t\ttbody[0].querySelectorAll('tr').should.have.length(6);\n\t\t});\n\n\t\tit('renders the correct contents in each cell', function () {\n\t\t\tconst firstName = getCell(this.dom, 1, 1);\n\t\t\tfirstName.innerHTML.should.equal(\n\t\t\t\t'<div class=\"\" title=\"Cloudhub\">Cloudhub</div>'\n\t\t\t);\n\t\t\tconst secondCount = getCell(this.dom, 2, 2);\n\t\t\tsecondCount.innerHTML.should.equal(\n\t\t\t\t'<div class=\"\" title=\"54976\">54976</div>'\n\t\t\t);\n\t\t});\n\n\t\tit('has checkboxes only when selectRows is true', function () {\n\t\t\tlet checkboxes = getTable(this.dom).querySelectorAll('.slds-checkbox');\n\t\t\tcheckboxes.should.have.length(7);\n\t\t\tremoveTable.call(this);\n\n\t\t\trenderTable(\n\t\t\t\t<DataTable {...defaultProps} selectRows={false}>\n\t\t\t\t\t{columns.map((columnProps) => (\n\t\t\t\t\t\t<DataTableColumn {...columnProps} key={columnProps.property} />\n\t\t\t\t\t))}\n\t\t\t\t</DataTable>\n\t\t\t).call(this);\n\t\t\tcheckboxes = getTable(this.dom).querySelectorAll('.slds-checkbox');\n\t\t\tcheckboxes.should.have.length(0);\n\t\t});\n\t});\n\n\tdescribe('Selectable', function () {\n\t\tconst defaultSelection = [\n\t\t\t{\n\t\t\t\tid: '8IKZHZZV80',\n\t\t\t\tname: 'Cloudhub',\n\t\t\t\tcount: 100976,\n\t\t\t\tlastModified: 'Yesterday',\n\t\t\t},\n\t\t];\n\n\t\tafterEach(removeTable);\n\n\t\tit('can start with a row selected', function () {\n\t\t\trenderTable(\n\t\t\t\t<DataTable {...defaultProps} selection={defaultSelection}>\n\t\t\t\t\t{columns.map((columnProps) => (\n\t\t\t\t\t\t<DataTableColumn {...columnProps} key={columnProps.property} />\n\t\t\t\t\t))}\n\t\t\t\t</DataTable>\n\t\t\t).call(this);\n\n\t\t\tconst tbody = getTable(this.dom).querySelectorAll('tbody')[0];\n\t\t\tconst selectedRows = tbody.querySelectorAll('tr.slds-is-selected');\n\t\t\tselectedRows.should.have.length(1);\n\t\t\tconst checkedBoxes = tbody.querySelectorAll(\n\t\t\t\t'.slds-checkbox input:checked'\n\t\t\t);\n\t\t\tcheckedBoxes.should.have.length(1);\n\t\t});\n\n\t\tit('can deselect a row', function (done) {\n\t\t\tthis.onChange = (newSelection, ...rest) => {\n\t\t\t\tnewSelection.should.have.length(0);\n\t\t\t\tdone();\n\t\t\t};\n\n\t\t\trenderTable(\n\t\t\t\t<DataTable\n\t\t\t\t\t{...defaultProps}\n\t\t\t\t\tselection={defaultSelection}\n\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t>\n\t\t\t\t\t{columns.map((columnProps) => (\n\t\t\t\t\t\t<DataTableColumn {...columnProps} key={columnProps.property} />\n\t\t\t\t\t))}\n\t\t\t\t</DataTable>\n\t\t\t).call(this);\n\n\t\t\tconst tbody = getTable(this.dom).querySelectorAll('tbody')[0];\n\t\t\tconst selectedRow = tbody.querySelectorAll('tr.slds-is-selected')[0];\n\t\t\tconst checkbox = selectedRow.querySelectorAll('.slds-checkbox input')[0];\n\t\t\tSimulate.change(checkbox, { target: { checked: false } });\n\t\t});\n\n\t\tit('can select a row', function (done) {\n\t\t\tthis.onChange = (newSelection) => {\n\t\t\t\tnewSelection.should.have.length(2);\n\t\t\t\tnewSelection[1].id.should.equal('5GJOOOPWU7');\n\t\t\t\tdone();\n\t\t\t};\n\n\t\t\trenderTable(\n\t\t\t\t<DataTable\n\t\t\t\t\t{...defaultProps}\n\t\t\t\t\tselection={defaultSelection}\n\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t>\n\t\t\t\t\t{columns.map((columnProps) => (\n\t\t\t\t\t\t<DataTableColumn {...columnProps} key={columnProps.property} />\n\t\t\t\t\t))}\n\t\t\t\t</DataTable>\n\t\t\t).call(this);\n\n\t\t\tconst secondRow = getRow(this.dom, 2);\n\t\t\tconst checkbox = secondRow.querySelectorAll('.slds-checkbox input')[0];\n\n\t\t\tSimulate.change(checkbox, { target: { checked: true } });\n\t\t});\n\n\t\tit('can select all rows', function (done) {\n\t\t\tthis.onChange = (newSelection) => {\n\t\t\t\tnewSelection.should.have.length(6);\n\t\t\t\tdone();\n\t\t\t};\n\n\t\t\trenderTable(\n\t\t\t\t<DataTable {...defaultProps} onChange={this.onChange}>\n\t\t\t\t\t{columns.map((columnProps) => (\n\t\t\t\t\t\t<DataTableColumn {...columnProps} key={columnProps.property} />\n\t\t\t\t\t))}\n\t\t\t\t</DataTable>\n\t\t\t).call(this);\n\n\t\t\tconst thead = getTable(this.dom).querySelectorAll('thead')[0];\n\t\t\tconst checkAll = thead.querySelectorAll('.slds-checkbox input')[0];\n\n\t\t\tSimulate.change(checkAll, { target: { checked: true } });\n\t\t});\n\n\t\tit('can deselect all rows', function (done) {\n\t\t\tthis.onChange = (newSelection) => {\n\t\t\t\tnewSelection.should.have.length(0);\n\t\t\t\tdone();\n\t\t\t};\n\n\t\t\trenderTable(\n\t\t\t\t<DataTable {...defaultProps} selection={items} onChange={this.onChange}>\n\t\t\t\t\t{columns.map((columnProps) => (\n\t\t\t\t\t\t<DataTableColumn {...columnProps} key={columnProps.property} />\n\t\t\t\t\t))}\n\t\t\t\t</DataTable>\n\t\t\t).call(this);\n\n\t\t\tconst thead = getTable(this.dom).querySelectorAll('thead')[0];\n\t\t\tconst checkAll = thead.querySelectorAll('.slds-checkbox input')[0];\n\n\t\t\tSimulate.change(checkAll, { target: { checked: false } });\n\t\t});\n\t});\n\n\tdescribe('Sortable', function () {\n\t\tafterEach(removeTable);\n\n\t\tit('first clicked on sortable column header should result in ascending sort', function (done) {\n\t\t\tthis.onSort = (data) => {\n\t\t\t\tdata.property.should.equal('count');\n\t\t\t\tdata.sortDirection.should.equal('asc');\n\t\t\t\tdone();\n\t\t\t};\n\n\t\t\trenderTable(\n\t\t\t\t<DataTable {...defaultProps} fixedLayout onSort={this.onSort}>\n\t\t\t\t\t{columns.map((columnProps) => (\n\t\t\t\t\t\t<DataTableColumn {...columnProps} key={columnProps.property} />\n\t\t\t\t\t))}\n\t\t\t\t</DataTable>\n\t\t\t).call(this);\n\n\t\t\tconst thead = getTable(this.dom).querySelectorAll('thead')[0];\n\t\t\tconst thirdColumn = thead.querySelectorAll('th')[2];\n\t\t\tconst sortButton = thead.querySelectorAll('a')[0];\n\n\t\t\tSimulate.click(sortButton, {});\n\t\t});\n\n\t\tit('does not call onSort when a non-sortable column is clicked', function (done) {\n\t\t\tthis.onSort = () => {\n\t\t\t\tdone('sort called');\n\t\t\t};\n\n\t\t\trenderTable(\n\t\t\t\t<DataTable {...defaultProps} onSort={this.onSort}>\n\t\t\t\t\t{columns.map((columnProps) => (\n\t\t\t\t\t\t<DataTableColumn {...columnProps} key={columnProps.property} />\n\t\t\t\t\t))}\n\t\t\t\t</DataTable>\n\t\t\t).call(this);\n\n\t\t\tconst thead = getTable(this.dom).querySelectorAll('thead')[0];\n\t\t\tconst secondColumn = thead.querySelectorAll('th')[1];\n\n\t\t\tSimulate.click(secondColumn, {});\n\t\t\tsetTimeout(done, 600);\n\t\t});\n\t});\n\n\tdescribe('w/ RowActions', function () {\n\t\tafterEach(removeTable);\n\n\t\tit('renders the RowActions', function () {\n\t\t\trenderTable(\n\t\t\t\t<DataTable {...defaultProps}>\n\t\t\t\t\t{columns.map((columnProps) => (\n\t\t\t\t\t\t<DataTableColumn {...columnProps} key={columnProps.property} />\n\t\t\t\t\t))}\n\t\t\t\t\t<DataTableRowActions\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 0,\n\t\t\t\t\t\t\t\tlabel: 'Add to Group',\n\t\t\t\t\t\t\t\tvalue: '1',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\t\t\tlabel: 'Publish',\n\t\t\t\t\t\t\t\tvalue: '2',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</DataTable>\n\t\t\t).call(this);\n\n\t\t\tconst rowActionMenus = scryRenderedComponentsWithType(\n\t\t\t\tthis.component,\n\t\t\t\tDataTableRowActions\n\t\t\t);\n\t\t\trowActionMenus.should.have.length(6);\n\t\t});\n\n\t\tit('calls onAction when an action is clicked', function (done) {\n\t\t\tthis.onAction = (item, action) => {\n\t\t\t\titem.id.should.equal('8IKZHZZV80');\n\t\t\t\taction.value.should.equal('1');\n\t\t\t\tdone();\n\t\t\t};\n\n\t\t\trenderTable(\n\t\t\t\t<DataTable {...defaultProps}>\n\t\t\t\t\t{columns.map((columnProps) => (\n\t\t\t\t\t\t<DataTableColumn {...columnProps} key={columnProps.property} />\n\t\t\t\t\t))}\n\t\t\t\t\t<DataTableRowActions\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 0,\n\t\t\t\t\t\t\t\tlabel: 'Add to Group',\n\t\t\t\t\t\t\t\tvalue: '1',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\t\t\tlabel: 'Publish',\n\t\t\t\t\t\t\t\tvalue: '2',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonAction={this.onAction}\n\t\t\t\t\t/>\n\t\t\t\t</DataTable>\n\t\t\t).call(this);\n\n\t\t\tconst rowActionMenu = scryRenderedComponentsWithType(\n\t\t\t\tthis.component,\n\t\t\t\tDataTableRowActions\n\t\t\t)[0];\n\t\t\tconst trigger = findRenderedDOMComponentWithClass(\n\t\t\t\trowActionMenu,\n\t\t\t\t'slds-button'\n\t\t\t);\n\t\t\tSimulate.click(trigger, {});\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst menu = getMenu(document.body);\n\t\t\t\tconst firstAction = menu.querySelectorAll('.slds-dropdown__item')[0];\n\t\t\t\tSimulate.click(firstAction.querySelector('a'), {});\n\t\t\t}, 100);\n\t\t});\n\t});\n\n\tdescribe('w/ HighlightCell', function () {\n\t\tafterEach(removeTable);\n\n\t\tit('marks the appropriate text in a cell', function () {\n\t\t\trenderTable(\n\t\t\t\t<DataTable {...defaultProps} search=\"Cloud\">\n\t\t\t\t\t{columns.map((columnProps) => (\n\t\t\t\t\t\t<DataTableColumn {...columnProps} key={columnProps.property}>\n\t\t\t\t\t\t\t<DataTableHighlightCell />\n\t\t\t\t\t\t</DataTableColumn>\n\t\t\t\t\t))}\n\t\t\t\t</DataTable>\n\t\t\t).call(this);\n\n\t\t\tconst secondRow = getRow(this.dom, 2);\n\t\t\tconst markedText = secondRow.querySelectorAll('mark')[0];\n\t\t\tmarkedText.innerHTML.should.equal('Cloud');\n\t\t});\n\t});\n});\n"],"file":"data-table.browser-test.js"}