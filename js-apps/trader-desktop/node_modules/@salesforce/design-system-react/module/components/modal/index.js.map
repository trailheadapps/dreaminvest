{"version":3,"sources":["../../../.tmp-es/components/modal/index.jsx"],"names":["React","PropTypes","ReactDOM","classNames","ReactModal","isBoolean","shortid","checkProps","Button","MODAL","propTypes","align","oneOf","assistiveText","shape","dialogLabel","string","closeButton","children","node","isRequired","containerClassName","oneOfType","array","object","contentClassName","contentStyle","directional","bool","dismissible","dismissOnClickOutside","onRequestClose","func","footer","header","headerClassName","isOpen","parentSelector","portalClassName","prompt","size","tagline","title","toast","defaultProps","Modal","props","state","isClosing","handleModalClick","bind","closeModal","dismissModalOnClickOutside","generatedId","generate","setReturnFocus","updateBodyScroll","prevProps","prevState","isUnmounting","el","findDOMNode","parentNode","getAttribute","unmountComponentAtNode","document","body","removeChild","clearBodyScroll","id","modalStyle","justifyContent","borderRadius","contentStyleFromProps","getId","isPrompt","headerComponent","footerComponent","setState","returnFocusTo","activeElement","window","style","overflow","dismissModal","focus","hasFooter","footerClass","footerClassNames","event","stopPropagation","headerContent","headerEmpty","closeButtonAssistiveText","undefined","customStyles","content","position","top","left","right","bottom","border","background","WebkitOverflowScrolling","outline","padding","overlay","zIndex","backgroundColor","getModal","Component","displayName"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEA;AAEA;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,UAAP,MAAuB,aAAvB,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,kBAAtB,C,CAEA;AACA;AACA;;AACA,OAAOC,OAAP,MAAoB,SAApB,C,CAEA;;AACA,OAAOC,UAAP,MAAuB,eAAvB;AAEA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,SAASC,KAAT,QAAsB,2BAAtB;AAEA,IAAMC,YAAY;AACjB;;;AAGAC,SAAOV,UAAUW,KAAV,CAAgB,CAAC,KAAD,EAAQ,QAAR,CAAhB,CAJU;;AAKjB;;;;;;AAMAC,iBAAeZ,UAAUa,KAAV,CAAgB;AAC9BC,iBAAad,UAAUe,MADO;AAE9BC,iBAAahB,UAAUe;AAFO,GAAhB,CAXE;;AAejB;;;AAGAE,YAAUjB,UAAUkB,IAAV,CAAeC,UAlBR;;AAmBjB;;;AAGAC,sBAAoBpB,UAAUqB,SAAV,CAAoB,CACvCrB,UAAUsB,KAD6B,EAEvCtB,UAAUuB,MAF6B,EAGvCvB,UAAUe,MAH6B,CAApB,CAtBH;;AA2BjB;;;AAGAS,oBAAkBxB,UAAUqB,SAAV,CAAoB,CACrCrB,UAAUsB,KAD2B,EAErCtB,UAAUuB,MAF2B,EAGrCvB,UAAUe,MAH2B,CAApB,CA9BD;;AAmCjB;;;AAGAU,gBAAczB,UAAUuB,MAtCP;;AAuCjB;;;AAGAG,eAAa1B,UAAU2B,IA1CN;;AA2CjB;;;AAGAC,eAAa5B,UAAU2B,IA9CN;;AA+CjB;;;AAGAE,yBAAuB7B,UAAU2B,IAlDhB;;AAmDjB;;;AAGAG,kBAAgB9B,UAAU+B,IAtDT;;AAuDjB;;;AAGAC,UAAQhC,UAAUqB,SAAV,CAAoB,CAACrB,UAAUsB,KAAX,EAAkBtB,UAAUkB,IAA5B,CAApB,CA1DS;;AA2DjB;;;AAGAe,UAAQjC,UAAUkB,IA9DD;;AA+DjB;;;AAGAgB,mBAAiBlC,UAAUqB,SAAV,CAAoB,CACpCrB,UAAUsB,KAD0B,EAEpCtB,UAAUuB,MAF0B,EAGpCvB,UAAUe,MAH0B,CAApB,CAlEA;;AAuEjB;;;AAGAoB,UAAQnC,UAAU2B,IAAV,CAAeR,UA1EN;;AA2EjB;;;AAGAiB,kBAAgBpC,UAAU+B,IA9ET;;AA+EjB;;;AAGAM,mBAAiBrC,UAAUqB,SAAV,CAAoB,CACpCrB,UAAUsB,KAD0B,EAEpCtB,UAAUuB,MAF0B,EAGpCvB,UAAUe,MAH0B,CAApB,CAlFA;;AAuFjB;;;AAGAuB,UAAQtC,UAAUW,KAAV,CAAgB,CACvB,SADuB,EAEvB,SAFuB,EAGvB,OAHuB,EAIvB,QAJuB,EAKvB,SALuB,EAMvB,MANuB,CAAhB,CA1FS;;AAkGjB;;;AAGA4B,QAAMvC,UAAUW,KAAV,CAAgB,CAAC,QAAD,EAAW,OAAX,CAAhB,CArGW;;AAsGjB;;;AAGA6B,WAASxC,UAAUkB,IAzGF;;AA0GjB;;;AAGAuB,SAAOzC,UAAUkB,IA7GA;;AA8GjB;;;AAGAwB,SAAO1C,UAAUkB;AAjHA,CAAlB;AAoHA,IAAMyB,eAAe;AACpB/B,iBAAe;AACdE,iBAAa,EADC;AAEdE,iBAAa;AAFC,GADK;AAKpBN,SAAO,QALa;AAMpBkB,eAAa;AANO,CAArB;AASA;;;;;;;;;;;IAUMgB,K;;;;;AACL,iBAAaC,KAAb,EAAoB;AAAA;;AAAA;;AACnB,0GAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACZC,iBAAW;AADC,KAAb,CAFmB,CAMnB;;AACA,UAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,+BAAxB;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAlB;AACA,UAAKE,0BAAL,GAAkC,MAAKA,0BAAL,CAAgCF,IAAhC,+BAAlC;AATmB;AAYnB;;;;yCAEqB;AACrB,WAAKG,WAAL,GAAmB/C,QAAQgD,QAAR,EAAnB;AACA/C,iBAAWE,KAAX,EAAkB,KAAKqC,KAAvB;AACA;;;wCAEoB;AACpB,WAAKS,cAAL;AACA,WAAKC,gBAAL;AACA;;;uCAEmBC,S,EAAWC,S,EAAW;AACzC,UAAI,KAAKZ,KAAL,CAAWV,MAAX,KAAsBqB,UAAUrB,MAApC,EAA4C;AAC3C,aAAKoB,gBAAL;AACA;;AACD,UAAI,KAAKT,KAAL,CAAWC,SAAX,KAAyBU,UAAUV,SAAvC,EAAkD;AACjD,YAAI,KAAKD,KAAL,CAAWC,SAAf,EAA0B;AACzB;AACA;AACA;AACA,cAAI,CAAC,KAAKW,YAAV,EAAwB;AACvB,gBAAMC,KAAK1D,SAAS2D,WAAT,CAAqB,IAArB,CAAX,CADuB,CACgB;;AACvC,gBACCD,MACAA,GAAGE,UADH,IAEAF,GAAGE,UAAH,CAAcC,YAAd,CAA2B,iBAA3B,CAHD,EAIE;AACD7D,uBAAS8D,sBAAT,CAAgCJ,EAAhC;AACAK,uBAASC,IAAT,CAAcC,WAAd,CAA0BP,EAA1B;AACA;AACD;AACD;AACD;AACD;;;2CAEuB;AACvB,WAAKD,YAAL,GAAoB,IAApB;AACA,WAAKS,eAAL;AACA;;;4BAEQ;AACR,aAAO,KAAKtB,KAAL,CAAWuB,EAAX,IAAiB,KAAKhB,WAA7B;AACA;;;+BAEW;AACX,UAAMiB,aACL,KAAKxB,KAAL,CAAWnC,KAAX,KAAqB,KAArB,GAA6B;AAAE4D,wBAAgB;AAAlB,OAA7B,GAAgE,IADjE;AAEA,UAAMC,eACL,KAAK1B,KAAL,CAAWJ,KAAX,IAAoB,KAAKI,KAAL,CAAWZ,MAA/B,GAAwC,EAAxC,GAA6C;AAAEsC,sBAAc;AAAhB,OAD9C;AAEA,UAAMC,wBAAwB,KAAK3B,KAAL,CAAWpB,YAAX,IAA2B,EAAzD;;AACA,UAAMA,iCACF8C,YADE,EAEFC,qBAFE,CAAN;;AAIA,aACC;;AACA;AACA;AACC,wBAAY,KAAK3B,KAAL,CAAWjC,aAAX,CAAyBE,WADtC;AAEC,6BACC,CAAC,KAAK+B,KAAL,CAAWjC,aAAX,CAAyBE,WAA1B,IAAyC,KAAK+B,KAAL,CAAWJ,KAApD,GACG,KAAKgC,KAAL,EADH,GAEG,IALL;AAOC,qBAAWvE,WAAW;AACrB,0BAAc,IADO;AAErB,iCAAqB,IAFA;AAGrB,iCAAqB,KAAK2C,KAAL,CAAWN,IAAX,KAAoB,OAHpB;AAIrB,kCAAsB,KAAKmC,QAAL;AAJD,WAAX,CAPZ;AAaC,mBAAS,KAAKvB,0BAbf;AAcC,gBAAM,KAAKN,KAAL,CAAWjB,WAAX,GAAyB,QAAzB,GAAoC;AAd3C,WAgBC;AACC,qBAAW1B,WACV,uBADU,EAEV,KAAK2C,KAAL,CAAWzB,kBAFD,CADZ;AAKC,iBAAOiD;AALR,WAOE,KAAKM,eAAL,EAPF,EAQC;AACC,qBAAWzE,WACV,qBADU,EAEV,KAAK2C,KAAL,CAAWrB,gBAFD,CADZ;AAKC,iBAAOC,YALR;AAMC,mBAAS,KAAKuB;AANf,WAQE,KAAKH,KAAL,CAAW5B,QARb,CARD,EAkBE,KAAK2D,eAAL,EAlBF,CAhBD;AAqCA;;AAxCD;AA0CA;;;qCAEiB;AACjB,WAAKC,QAAL,CAAc;AACbC,uBAAed,SAASe;AADX,OAAd;AAGA,K,CAED;;;;sCACmB;AAClB,UAAIC,UAAUhB,QAAV,IAAsBA,SAASC,IAAnC,EAAyC;AACxCD,iBAASC,IAAT,CAAcgB,KAAd,CAAoBC,QAApB,GAA+B,SAA/B;AACA;AACD;;;iCAEa;AACb,UAAI,KAAKrC,KAAL,CAAWjB,WAAf,EAA4B;AAC3B,aAAKuD,YAAL;AACA;AACD;;;mCAEe;AACf,WAAKN,QAAL,CAAc;AAAE9B,mBAAW;AAAb,OAAd;;AACA,UAAI,KAAKD,KAAL,CAAWgC,aAAX,IAA4B,KAAKhC,KAAL,CAAWgC,aAAX,CAAyBM,KAAzD,EAAgE;AAC/D,aAAKtC,KAAL,CAAWgC,aAAX,CAAyBM,KAAzB;AACA;;AACD,UAAI,KAAKvC,KAAL,CAAWf,cAAf,EAA+B;AAC9B,aAAKe,KAAL,CAAWf,cAAX;AACA;AACD;;;iDAE6B;AAC7B;AACA,UAAMD,wBAAwBzB,UAAU,KAAKyC,KAAL,CAAWhB,qBAArB,IAC3B,KAAKgB,KAAL,CAAWhB,qBADgB,GAE3B,KAAKgB,KAAL,CAAWjB,WAFd;;AAIA,UAAIC,qBAAJ,EAA2B;AAC1B,aAAKsD,YAAL;AACA;AACD;;;sCAEkB;AAClB,UAAInD,SAAS,IAAb;AACA,UAAMqD,YAAY,KAAKxC,KAAL,CAAWb,MAA7B;AACA,UAAMsD,cAAc;AACnB,8BAAsB,IADH;AAEnB,2CAAmC,KAAKzC,KAAL,CAAWnB,WAF3B;AAGnB,+BAAuB,KAAKgD,QAAL;AAHJ,OAApB;;AAMA,UAAIW,SAAJ,EAAe;AACdrD,iBAAW;AACV;AACC,qBAAW9B,WAAWoF,WAAX,EAAwB,KAAKzC,KAAL,CAAW0C,gBAAnC,CADZ;AAEC,mBAAS,KAAKvC;AAFf,WAIE,KAAKH,KAAL,CAAWb,MAJb,CADD;AAQA;;AACD,aAAOA,MAAP;AACA,K,CAED;;;;qCACkBwD,K,EAAO;AACxB,UAAIA,SAASA,MAAMC,eAAnB,EAAoC;AACnCD,cAAMC,eAAN;AACA;AACD;;;wCAEoB;AACpB,WAAKvC,UAAL;AACA;;;sCAEkB;AAAA;;AAClB,UAAIwC,gBAAgB,KAAK7C,KAAL,CAAWZ,MAA/B;AACA,UAAM0D,cACL,CAACD,aAAD,IAAkB,CAAC,KAAK7C,KAAL,CAAWJ,KAA9B,IAAuC,CAAC,KAAKI,KAAL,CAAWL,OADpD;;AAEA,UAAM5B,kCACF+B,aAAa/B,aADX,EAEF,KAAKiC,KAAL,CAAWjC,aAFT,CAAN;;AAIA,UAAMgF,2BACL,KAAK/C,KAAL,CAAW+C,wBAAX,IAAuChF,cAAcI,WADtD;AAEA,UAAMA,cACL,oBAAC,MAAD;AACC,uBAAe4E,wBADhB;AAEC,sBAAa,SAFd;AAGC,kBAAS,OAHV;AAIC,kBAAS,OAJV;AAKC,qBALD;AAMC,mBAAU,mBANX;AAOC,iBAAS,KAAK1C,UAPf;AAQC,eAAO0C,wBARR;AASC,iBAAQ;AATT,QADD;;AAcA,UAAK,CAACF,aAAD,IAAkB,KAAK7C,KAAL,CAAWJ,KAA9B,IAAwC,KAAKI,KAAL,CAAWL,OAAvD,EAAgE;AAC/DkD,wBACC,iCACE,KAAK7C,KAAL,CAAWH,KADb,EAEC;AACC,qBAAWxC,WAAW;AACrB,wCAA4B,KAAKwE,QAAL,EADP;AAErB,yCAA6B,CAAC,KAAKA,QAAL;AAFT,WAAX,CADZ;AAKC,cAAI,KAAKD,KAAL;AALL,WAOE,KAAK5B,KAAL,CAAWJ,KAPb,CAFD,EAWE,KAAKI,KAAL,CAAWL,OAAX,GACA;AAAG,qBAAU;AAAb,WAAoC,KAAKK,KAAL,CAAWL,OAA/C,CADA,GAEG,IAbL,CADD;AAiBA;;AAED,aACC;AACA;AACC,qBAAWtC,WACV,oBADU;AAGT,yCAA6ByF;AAHpB,gEAIO,KAAK9C,KAAL,CAAWP,MAJlB,GAI6B,KAAKoC,QAAL,EAJ7B,gCAKT,2BALS,EAKoB,KAAKA,QAAL,EALpB,iBAOV,KAAK7B,KAAL,CAAWX,eAPD,CADZ;AAUC,mBAAS,KAAKc;AAVf,WAYE,KAAKH,KAAL,CAAWjB,WAAX,GAAyBZ,WAAzB,GAAuC,IAZzC,EAaE0E,aAbF;AAFD;AAkBA;;;+BAEW;AACX,aAAO,KAAK7C,KAAL,CAAWP,MAAX,KAAsBuD,SAA7B;AACA;;;uCAEmB;AACnB,UAAIb,UAAUhB,QAAV,IAAsBA,SAASC,IAAnC,EAAyC;AACxC,YAAI,KAAKpB,KAAL,CAAWV,MAAf,EAAuB;AACtB6B,mBAASC,IAAT,CAAcgB,KAAd,CAAoBC,QAApB,GAA+B,QAA/B;AACA,SAFD,MAEO;AACNlB,mBAASC,IAAT,CAAcgB,KAAd,CAAoBC,QAApB,GAA+B,SAA/B;AACA;AACD;AACD;;;6BAES;AACT,UAAMY,eAAe;AACpBC,iBAAS;AACRC,oBAAU,SADF;AAERC,eAAK,SAFG;AAGRC,gBAAM,SAHE;AAIRC,iBAAO,SAJC;AAKRC,kBAAQ,SALA;AAMRC,kBAAQ,SANA;AAORC,sBAAY,SAPJ;AAQRpB,oBAAU,SARF;AASRqB,mCAAyB,SATjB;AAURhC,wBAAc,SAVN;AAWRiC,mBAAS,SAXD;AAYRC,mBAAS;AAZD,SADW;AAepBC,iBAAS;AACRC,kBAAQ,IADA;AACM;AACdC,2BAAiB;AAFT;AAfW,OAArB;AAqBA,aACC,oBAAC,UAAD;AACC,sBAAa,OADd;AAEC,gBAAQ,KAAK/D,KAAL,CAAWV,MAFpB;AAGC,wBAAgB,KAAKe,UAHtB;AAIC,eAAO4C,YAJR;AAKC,wBAAgB,KAAKjD,KAAL,CAAWT,cAL5B;AAMC,yBAAiBlC,WAChB,kBADgB,EAEhB,KAAK2C,KAAL,CAAWR,eAFK;AANlB,SAWE,KAAKwE,QAAL,EAXF,EAYC;AAAK,mBAAU;AAAf,QAZD,CADD;AAgBA;;;;EA7SkB9G,MAAM+G,S;;AAgT1BlE,MAAMmE,WAAN,GAAoBvG,KAApB;AACAoC,MAAMnC,SAAN,GAAkBA,SAAlB;AACAmC,MAAMD,YAAN,GAAqBA,YAArB;AAEA,eAAeC,KAAf","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n/* eslint-disable react/prefer-es6-class, jsx-a11y/no-noninteractive-element-interactions */\n\n// Implements the [Modal design pattern](https://lightningdesignsystem.com/components/modals/) in React.\n// Based on SLDS v2.2.1\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\nimport classNames from 'classnames';\nimport ReactModal from 'react-modal';\n\n// ### isBoolean\nimport isBoolean from 'lodash.isboolean';\n\n// ### shortid\n// [npmjs.com/package/shortid](https://www.npmjs.com/package/shortid)\n// shortid is a short, non-sequential, url-friendly, unique id generator\nimport shortid from 'shortid';\n\n// This component's `checkProps` which issues warnings to developers about properties when in development mode (similar to React's built in development tools)\nimport checkProps from './check-props';\n\nimport Button from '../button';\n\nimport { MODAL } from '../../utilities/constants';\n\nconst propTypes = {\n\t/**\n\t * Vertical alignment of Modal.\n\t */\n\talign: PropTypes.oneOf(['top', 'center']),\n\t/**\n\t * **Assistive text for accessibility.**\n\t * This object is merged with the default props object on every render.\n\t * * `dialogLabel`: This is a visually hidden label for the dialog. If not provided, `title` is used.\n\t * * `closeButton`: This is a visually hidden label for the close button.\n\t */\n\tassistiveText: PropTypes.shape({\n\t\tdialogLabel: PropTypes.string,\n\t\tcloseButton: PropTypes.string,\n\t}),\n\t/**\n\t * Modal content.\n\t */\n\tchildren: PropTypes.node.isRequired,\n\t/**\n\t * Custom CSS classes for the modal's container. This is the element with `.slds-modal__container`. Use `classNames` [API](https://github.com/JedWatson/classnames).\n\t */\n\tcontainerClassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Custom CSS classes for the modal's body. This is the element that has overflow rules and should be used to set a static height if desired. Use `classNames` [API](https://github.com/JedWatson/classnames).\n\t */\n\tcontentClassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Custom styles for the modal's body. This is the element that has overflow rules and should be used to set a static height if desired.\n\t */\n\tcontentStyle: PropTypes.object,\n\t/**\n\t * If true, modal footer buttons render left and right. An example use case would be for \"back\" and \"next\" buttons.\n\t */\n\tdirectional: PropTypes.bool,\n\t/**\n\t * If true, Modals can be dismissed by clicking on the close icon or pressing esc key.\n\t */\n\tdismissible: PropTypes.bool,\n\t/**\n\t * If true, Modals can be dismissed by clicking outside of modal. If unspecified, defaults to dismissible.\n\t */\n\tdismissOnClickOutside: PropTypes.bool,\n\t/**\n\t * Callback to fire with Modal is dismissed\n\t */\n\tonRequestClose: PropTypes.func,\n\t/**\n\t * Accepts a node or array of nodes that are typically a `Button` or `ProgressIndicator`. If an array, the nodes render on the right side first but are then floated left and right if <code>directional</code> prop is `true`.\n\t */\n\tfooter: PropTypes.oneOfType([PropTypes.array, PropTypes.node]),\n\t/**\n\t * Allows for a custom modal header that does not scroll with modal content. If this is defined, `title` and `tagline` will be ignored. The close button will still be present.\n\t */\n\theader: PropTypes.node,\n\t/**\n\t * Adds CSS classes to the container surrounding the modal header and the close button. Use `classNames` [API](https://github.com/JedWatson/classnames).\n\t */\n\theaderClassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Forces the modal to be open or closed.\n\t */\n\tisOpen: PropTypes.bool.isRequired,\n\t/**\n\t * Function that returns parent node to contain Modal. Should return document.querySelector('#myModalContainer').\n\t */\n\tparentSelector: PropTypes.func,\n\t/**\n\t * Custom CSS classes for the portal DOM node. This node is a direct descendant of the `body` and is the parent of `ReactModal__Overlay`. Use `classNames` [API](https://github.com/JedWatson/classnames).\n\t */\n\tportalClassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Styles the modal as a prompt.\n\t */\n\tprompt: PropTypes.oneOf([\n\t\t'success',\n\t\t'warning',\n\t\t'error',\n\t\t'wrench',\n\t\t'offline',\n\t\t'info',\n\t]),\n\t/**\n\t * Specifiies the modal's width. May be deprecated in favor of `width` in the future.\n\t */\n\tsize: PropTypes.oneOf(['medium', 'large']),\n\t/**\n\t * Content underneath the title in the modal header.\n\t */\n\ttagline: PropTypes.node,\n\t/**\n\t * Text heading at the top of a modal.\n\t */\n\ttitle: PropTypes.node,\n\t/**\n\t * Allows adding additional notifications within the modal.\n\t */\n\ttoast: PropTypes.node,\n};\n\nconst defaultProps = {\n\tassistiveText: {\n\t\tdialogLabel: '',\n\t\tcloseButton: 'Close',\n\t},\n\talign: 'center',\n\tdismissible: true,\n};\n\n/**\n * The Modal component is used for the Lightning Design System Modal and Notification > Prompt components. The Modal opens from a state change outside of the component itself (pass this state to the <code>isOpen</code> prop). For more details on the Prompt markup, please review the <a href=\"http://www.lightningdesignsystem.com/components/notifications#prompt\">Notifications > Prompt</a>.\n *\n * By default, `Modal` will add `aria-hidden=true` to the `body` tag, but this disables some assistive technologies. To prevent this you can add the following to your application with `#mount` being the root node of your application that you would like to hide from assistive technologies when the `Modal` is open.\n * ```\n * import settings from 'design-system-react/components/settings';\n * settings.setAppElement('#mount');\n * ```\n * This component uses a portalMount (a disconnected React subtree mount) to create a modal as a child of `body`.\n */\nclass Modal extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisClosing: false,\n\t\t};\n\n\t\t// Bind\n\t\tthis.handleModalClick = this.handleModalClick.bind(this);\n\t\tthis.closeModal = this.closeModal.bind(this);\n\t\tthis.dismissModalOnClickOutside = this.dismissModalOnClickOutside.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\tcomponentWillMount () {\n\t\tthis.generatedId = shortid.generate();\n\t\tcheckProps(MODAL, this.props);\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.setReturnFocus();\n\t\tthis.updateBodyScroll();\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tif (this.props.isOpen !== prevProps.isOpen) {\n\t\t\tthis.updateBodyScroll();\n\t\t}\n\t\tif (this.state.isClosing !== prevState.isClosing) {\n\t\t\tif (this.state.isClosing) {\n\t\t\t\t// This section of code should be removed once trigger.jsx\n\t\t\t\t// and manager.jsx are removed. They appear to have\n\t\t\t\t// been created in order to do modals in portals.\n\t\t\t\tif (!this.isUnmounting) {\n\t\t\t\t\tconst el = ReactDOM.findDOMNode(this); // eslint-disable-line react/no-find-dom-node\n\t\t\t\t\tif (\n\t\t\t\t\t\tel &&\n\t\t\t\t\t\tel.parentNode &&\n\t\t\t\t\t\tel.parentNode.getAttribute('data-slds-modal')\n\t\t\t\t\t) {\n\t\t\t\t\t\tReactDOM.unmountComponentAtNode(el);\n\t\t\t\t\t\tdocument.body.removeChild(el);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tthis.isUnmounting = true;\n\t\tthis.clearBodyScroll();\n\t}\n\n\tgetId () {\n\t\treturn this.props.id || this.generatedId;\n\t}\n\n\tgetModal () {\n\t\tconst modalStyle =\n\t\t\tthis.props.align === 'top' ? { justifyContent: 'flex-start' } : null;\n\t\tconst borderRadius =\n\t\t\tthis.props.title || this.props.header ? {} : { borderRadius: '.25rem' };\n\t\tconst contentStyleFromProps = this.props.contentStyle || {};\n\t\tconst contentStyle = {\n\t\t\t...borderRadius,\n\t\t\t...contentStyleFromProps,\n\t\t};\n\t\treturn (\n\t\t\t// temporarily disabling eslint for the onClicks on the div tags\n\t\t\t/* eslint-disable */\n\t\t\t<div\n\t\t\t\taria-label={this.props.assistiveText.dialogLabel}\n\t\t\t\taria-labelledby={\n\t\t\t\t\t!this.props.assistiveText.dialogLabel && this.props.title\n\t\t\t\t\t\t? this.getId()\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\tclassName={classNames({\n\t\t\t\t\t'slds-modal': true,\n\t\t\t\t\t'slds-fade-in-open': true,\n\t\t\t\t\t'slds-modal--large': this.props.size === 'large',\n\t\t\t\t\t'slds-modal--prompt': this.isPrompt(),\n\t\t\t\t})}\n\t\t\t\tonClick={this.dismissModalOnClickOutside}\n\t\t\t\trole={this.props.dismissible ? 'dialog' : 'alertdialog'}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t'slds-modal__container',\n\t\t\t\t\t\tthis.props.containerClassName\n\t\t\t\t\t)}\n\t\t\t\t\tstyle={modalStyle}\n\t\t\t\t>\n\t\t\t\t\t{this.headerComponent()}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'slds-modal__content',\n\t\t\t\t\t\t\tthis.props.contentClassName\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tstyle={contentStyle}\n\t\t\t\t\t\tonClick={this.handleModalClick}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.props.children}\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.footerComponent()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t/* eslint-enable */\n\t\t);\n\t}\n\n\tsetReturnFocus () {\n\t\tthis.setState({\n\t\t\treturnFocusTo: document.activeElement,\n\t\t});\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\tclearBodyScroll () {\n\t\tif (window && document && document.body) {\n\t\t\tdocument.body.style.overflow = 'inherit';\n\t\t}\n\t}\n\n\tcloseModal () {\n\t\tif (this.props.dismissible) {\n\t\t\tthis.dismissModal();\n\t\t}\n\t}\n\n\tdismissModal () {\n\t\tthis.setState({ isClosing: true });\n\t\tif (this.state.returnFocusTo && this.state.returnFocusTo.focus) {\n\t\t\tthis.state.returnFocusTo.focus();\n\t\t}\n\t\tif (this.props.onRequestClose) {\n\t\t\tthis.props.onRequestClose();\n\t\t}\n\t}\n\n\tdismissModalOnClickOutside () {\n\t\t// if dismissOnClickOutside is not set, default its value to dismissible\n\t\tconst dismissOnClickOutside = isBoolean(this.props.dismissOnClickOutside)\n\t\t\t? this.props.dismissOnClickOutside\n\t\t\t: this.props.dismissible;\n\n\t\tif (dismissOnClickOutside) {\n\t\t\tthis.dismissModal();\n\t\t}\n\t}\n\n\tfooterComponent () {\n\t\tlet footer = null;\n\t\tconst hasFooter = this.props.footer;\n\t\tconst footerClass = {\n\t\t\t'slds-modal__footer': true,\n\t\t\t'slds-modal__footer--directional': this.props.directional,\n\t\t\t'slds-theme--default': this.isPrompt(),\n\t\t};\n\n\t\tif (hasFooter) {\n\t\t\tfooter = ( // eslint-disable-next-line jsx-a11y/no-static-element-interactions, jsx-a11y/no-noninteractive-element-interactions\n\t\t\t\t<footer\n\t\t\t\t\tclassName={classNames(footerClass, this.props.footerClassNames)}\n\t\t\t\t\tonClick={this.handleModalClick}\n\t\t\t\t>\n\t\t\t\t\t{this.props.footer}\n\t\t\t\t</footer>\n\t\t\t);\n\t\t}\n\t\treturn footer;\n\t}\n\n\t// eslint-disable-next-line class-methods-use-this\n\thandleModalClick (event) {\n\t\tif (event && event.stopPropagation) {\n\t\t\tevent.stopPropagation();\n\t\t}\n\t}\n\n\thandleSubmitModal () {\n\t\tthis.closeModal();\n\t}\n\n\theaderComponent () {\n\t\tlet headerContent = this.props.header;\n\t\tconst headerEmpty =\n\t\t\t!headerContent && !this.props.title && !this.props.tagline;\n\t\tconst assistiveText = {\n\t\t\t...defaultProps.assistiveText,\n\t\t\t...this.props.assistiveText,\n\t\t};\n\t\tconst closeButtonAssistiveText =\n\t\t\tthis.props.closeButtonAssistiveText || assistiveText.closeButton;\n\t\tconst closeButton = (\n\t\t\t<Button\n\t\t\t\tassistiveText={closeButtonAssistiveText}\n\t\t\t\ticonCategory=\"utility\"\n\t\t\t\ticonName=\"close\"\n\t\t\t\ticonSize=\"large\"\n\t\t\t\tinverse\n\t\t\t\tclassName=\"slds-modal__close\"\n\t\t\t\tonClick={this.closeModal}\n\t\t\t\ttitle={closeButtonAssistiveText}\n\t\t\t\tvariant=\"icon\"\n\t\t\t/>\n\t\t);\n\n\t\tif ((!headerContent && this.props.title) || this.props.tagline) {\n\t\t\theaderContent = (\n\t\t\t\t<div>\n\t\t\t\t\t{this.props.toast}\n\t\t\t\t\t<h2\n\t\t\t\t\t\tclassName={classNames({\n\t\t\t\t\t\t\t'slds-text-heading--small': this.isPrompt(),\n\t\t\t\t\t\t\t'slds-text-heading--medium': !this.isPrompt(),\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tid={this.getId()}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.props.title}\n\t\t\t\t\t</h2>\n\t\t\t\t\t{this.props.tagline ? (\n\t\t\t\t\t\t<p className=\"slds-m-top--x-small\">{this.props.tagline}</p>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t\t<header\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t'slds-modal__header',\n\t\t\t\t\t{\n\t\t\t\t\t\t'slds-modal__header--empty': headerEmpty,\n\t\t\t\t\t\t[`slds-theme--${this.props.prompt}`]: this.isPrompt(),\n\t\t\t\t\t\t'slds-theme--alert-texture': this.isPrompt(),\n\t\t\t\t\t},\n\t\t\t\t\tthis.props.headerClassName\n\t\t\t\t)}\n\t\t\t\tonClick={this.handleModalClick}\n\t\t\t>\n\t\t\t\t{this.props.dismissible ? closeButton : null}\n\t\t\t\t{headerContent}\n\t\t\t</header>\n\t\t);\n\t}\n\n\tisPrompt () {\n\t\treturn this.props.prompt !== undefined;\n\t}\n\n\tupdateBodyScroll () {\n\t\tif (window && document && document.body) {\n\t\t\tif (this.props.isOpen) {\n\t\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t\t} else {\n\t\t\t\tdocument.body.style.overflow = 'inherit';\n\t\t\t}\n\t\t}\n\t}\n\n\trender () {\n\t\tconst customStyles = {\n\t\t\tcontent: {\n\t\t\t\tposition: 'default',\n\t\t\t\ttop: 'default',\n\t\t\t\tleft: 'default',\n\t\t\t\tright: 'default',\n\t\t\t\tbottom: 'default',\n\t\t\t\tborder: 'default',\n\t\t\t\tbackground: 'default',\n\t\t\t\toverflow: 'default',\n\t\t\t\tWebkitOverflowScrolling: 'default',\n\t\t\t\tborderRadius: 'default',\n\t\t\t\toutline: 'default',\n\t\t\t\tpadding: 'default',\n\t\t\t},\n\t\t\toverlay: {\n\t\t\t\tzIndex: 8000, // following SLDS guideline for z-index overlay\n\t\t\t\tbackgroundColor: 'default',\n\t\t\t},\n\t\t};\n\n\t\treturn (\n\t\t\t<ReactModal\n\t\t\t\tcontentLabel=\"Modal\"\n\t\t\t\tisOpen={this.props.isOpen}\n\t\t\t\tonRequestClose={this.closeModal}\n\t\t\t\tstyle={customStyles}\n\t\t\t\tparentSelector={this.props.parentSelector}\n\t\t\t\tportalClassName={classNames(\n\t\t\t\t\t'ReactModalPortal',\n\t\t\t\t\tthis.props.portalClassName\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t{this.getModal()}\n\t\t\t\t<div className=\"slds-backdrop slds-backdrop--open\" />\n\t\t\t</ReactModal>\n\t\t);\n\t}\n}\n\nModal.displayName = MODAL;\nModal.propTypes = propTypes;\nModal.defaultProps = defaultProps;\n\nexport default Modal;\n"],"file":"index.js"}